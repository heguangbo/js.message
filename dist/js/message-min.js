var Message=function(){};Message.prototype.TYPE={ALERT:0,CONFIRM:1},Message.prototype.ICON={NONE:0,WARN:1,SUCCESS:2,QUESTION:3,ERROR:4},Message.prototype.existMask=function(){var e=document.getElementsByClassName("ui-dialog-mask");return!(e&&!e.length)},Message.prototype.showMask=function(){var e;this.existMask()?(e=document.getElementsByClassName("ui-dialog-mask"))[0].style.display="block":((e=document.createElement("div")).className="ui-dialog-mask",document.body.appendChild(e))},Message.prototype.existDialog=function(){var e=document.getElementsByClassName("ui-dialog");return!(e&&!e.length)},Message.prototype.showDialog=function(e,a,i,s){var t=this;if(t.existDialog()){(o=(n=document.getElementsByClassName("ui-dialog"))[0].getElementsByClassName("ui-dialog-title"))[0].innerHTML=e;r=n[0].getElementsByClassName("ui-btn-adapt-basic-s"),E=n[0].getElementsByClassName("ui-btn-adapt-basic-c");(u=n[0].getElementsByClassName("ui-dialog-icon"))[0].style.display="inline-block",t.ICON.NONE===i?u[0].style.display="none":t.ICON.WARN===i?u[0].className="ui-dialog-icon ui-dialog-icon-warn":t.ICON.SUCCESS===i?u[0].className="ui-dialog-icon ui-dialog-icon-success":t.ICON.QUESTION===i?u[0].className="ui-dialog-icon ui-dialog-icon-question":t.ICON.ERROR===i&&(u[0].className="ui-dialog-icon ui-dialog-icon-error"),t.TYPE.CONFIRM===a?(r[0].style.display="inline-block",E[0].style.display="inline-block"):(r[0].style.display="inline-block",E[0].style.display="none"),t.base.removeEvent(r[0],"click"),t.base.removeEvent(E[0],"click"),t.base.addEvent(r[0],"click",(function(){t.hide(),s(!0)})),t.base.addEvent(E[0],"click",(function(){t.hide(),s(!1)})),n[0].style.display="block"}else{var n;(n=document.createElement("section")).className="ui-dialog";var d=document.createElement("div");d.className="ui-dialog-cnt";var l=document.createElement("span");l.className="ui-dialog-close",t.base.addEvent(l,"click",(function(){t.hide()}));var o,c=document.createElement("div"),u=document.createElement("span");t.ICON.NONE===i?(u.className="ui-dialog-icon",u.style.display="none"):t.ICON.WARN===i?u.className="ui-dialog-icon ui-dialog-icon-warn":t.ICON.SUCCESS===i?u.className="ui-dialog-icon ui-dialog-icon-success":t.ICON.QUESTION===i?u.className="ui-dialog-icon ui-dialog-icon-question":t.ICON.ERROR===i&&(u.className="ui-dialog-icon ui-dialog-icon-error"),(o=document.createElement("h3")).className="ui-dialog-title",o.innerHTML=e;var g=document.createElement("div");g.className="ui-dialog-content";var p=document.createElement("div");p.className="ui-dialog-content-in",g.appendChild(p);var r,m=document.createElement("div");m.className="ui-dialog-ft",(r=document.createElement("div")).className="ui-btn-adapt ui-btn-adapt-basic-s";var E,h=document.createElement("span");h.innerHTML="OK",r.appendChild(h),t.base.addEvent(r,"click",(function(){t.hide(),s(!0)})),(E=document.createElement("div")).className="ui-btn-adapt ui-btn-adapt-basic-c";var y=document.createElement("span");y.innerHTML="Cancel",E.appendChild(y),t.TYPE.CONFIRM===a&&t.base.addEvent(E,"click",(function(){t.hide(),s(!1)})),t.TYPE.CONFIRM===a?(r.style.display="inline-block",E.style.display="inline-block"):(r.style.display="inline-block",E.style.display="none"),m.appendChild(r),m.appendChild(E),c.appendChild(u),c.appendChild(o),c.appendChild(g),c.appendChild(m),d.appendChild(l),d.appendChild(c),n.appendChild(d),document.body.appendChild(n)}},Message.prototype.hide=function(){this.existDialog()&&this.existMask()&&(document.getElementsByClassName("ui-dialog")[0].style.display="none",document.getElementsByClassName("ui-dialog-mask")[0].style.display="none")},Message.prototype.alert=function(e,a,i){this.hide(),this.showMask(),void 0===i&&(i=this.ICON.NONE),this.showDialog(e,this.TYPE.ALERT,i,a)},Message.prototype.confirm=function(e,a){this.hide(),this.showMask(),this.showDialog(e,this.TYPE.CONFIRM,this.ICON.QUESTION,a)},Message.prototype.base={addEvent:function(e,a,i){i.$$guid||(i.$$guid=this.addEvent.guid++),e.$$guid||(e.$$guid=this.addEvent.guid++),this.addEvent.handlers[e.$$guid]||(this.addEvent.handlers[e.$$guid]={});var s=this.addEvent.handlers[e.$$guid][a];s||(s=this.addEvent.handlers[e.$$guid][a]={}),s[i.$$guid]=i,e["on"+a]=this.handleEvent},removeEvent:function(e,a,i){e.$$guid&&(i?Message.prototype.base.addEvent.handlers[e.$$guid]&&Message.prototype.base.addEvent.handlers[e.$$guid][a]&&delete Message.prototype.base.addEvent.handlers[e.$$guid][a][i.$$guid]:Message.prototype.base.addEvent.handlers[e.$$guid]&&Message.prototype.base.addEvent.handlers[e.$$guid][a]&&delete Message.prototype.base.addEvent.handlers[e.$$guid][a])},handleEvent:function(e){e=e||window.event;var a=Message.prototype.base.addEvent.handlers[this.$$guid][e.type];for(var i in a)this.$$handleEvent=a[i],this.$$handleEvent(e)}},Message.prototype.base.addEvent.guid=1,Message.prototype.base.addEvent.handlers={};